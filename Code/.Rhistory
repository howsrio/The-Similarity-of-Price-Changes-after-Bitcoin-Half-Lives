geom_vline(xintercept = as.numeric(TargetDate[1]+MaxIndex1), color = "blue", linetype = "dashed") +
annotate("text", x = TargetDate[1]+MinIndex1+50, y = max(BTC1$Close)-150, label = "Min", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MinIndex1), color = "blue", linetype = "dashed") +
annotate("text", x = TargetDate[1]+MinIndex1_2+50, y = max(BTC1$Close)-150, label = "Min", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MinIndex1_2), color = "blue", linetype = "dashed")
ggplot(BTC1)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[1]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[1]-80, y = max(BTC1$Close)-150, label = "D-day", vjust = -1, color = "black") +
annotate("text", x = TargetDate[1]+MaxIndex1-130, y = max(BTC1$Close)-150, label =
("13/12/05"), vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MaxIndex1), color = "blue", linetype = "dashed") +
annotate("text", x = TargetDate[1]+MinIndex1+50, y = max(BTC1$Close)-150, label = "Min", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MinIndex1), color = "blue", linetype = "dashed") +
annotate("text", x = TargetDate[1]+MinIndex1_2+50, y = max(BTC1$Close)-150, label = "Min", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MinIndex1_2), color = "blue", linetype = "dashed")
ggplot(BTC1)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[1]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[1]-80, y = max(BTC1$Close)-150, label = "D-day", vjust = -1, color = "black") +
annotate("text", x = TargetDate[1]+MaxIndex1-130, y = max(BTC1$Close)-150, label =
("2013/12/05"), vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MaxIndex1), color = "blue", linetype = "dashed") +
annotate("text", x = TargetDate[1]+MinIndex1+50, y = max(BTC1$Close)-150, label = "Min", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MinIndex1), color = "blue", linetype = "dashed") +
annotate("text", x = TargetDate[1]+MinIndex1_2+50, y = max(BTC1$Close)-150, label = "Min", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MinIndex1_2), color = "blue", linetype = "dashed")
TargetDate[1]+MinIndex1
ggplot(BTC1)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[1]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[1]-80, y = max(BTC1$Close)-150, label = "D-day", vjust = -1, color = "black") +
annotate("text", x = TargetDate[1]+MaxIndex1-130, y = max(BTC1$Close)-150, label =
("2013/12/05"), vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MaxIndex1), color = "blue", linetype = "dashed") +
annotate("text", x = TargetDate[1]+MinIndex1+50, y = max(BTC1$Close)-150, label = "2015/01/15", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MinIndex1), color = "blue", linetype = "dashed") +
annotate("text", x = TargetDate[1]+MinIndex1_2+50, y = max(BTC1$Close)-150, label = "Min", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MinIndex1_2), color = "blue", linetype = "dashed")
ggplot(BTC1)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[1]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[1]-80, y = max(BTC1$Close)-150, label = "D-day", vjust = -1, color = "black") +
annotate("text", x = TargetDate[1]+MaxIndex1-130, y = max(BTC1$Close)-150, label =
("2013/12/05"), vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MaxIndex1), color = "blue", linetype = "dashed") +
annotate("text", x = TargetDate[1]+MinIndex1+100, y = max(BTC1$Close)-150, label = "2015/01/15", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MinIndex1), color = "blue", linetype = "dashed") +
annotate("text", x = TargetDate[1]+MinIndex1_2+50, y = max(BTC1$Close)-150, label = "Min", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MinIndex1_2), color = "blue", linetype = "dashed")
ggplot(BTC1)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[1]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[1]-80, y = max(BTC1$Close)-150, label = "D-day", vjust = -1, color = "black") +
annotate("text", x = TargetDate[1]+MaxIndex1-130, y = max(BTC1$Close)-150, label =
("2013/12/05"), vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MaxIndex1), color = "blue", linetype = "dashed") +
annotate("text", x = TargetDate[1]+MinIndex1+120, y = max(BTC1$Close)-150, label = "2015/01/15", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MinIndex1), color = "blue", linetype = "dashed") +
annotate("text", x = TargetDate[1]+MinIndex1_2+50, y = max(BTC1$Close)-150, label = "Min", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MinIndex1_2), color = "blue", linetype = "dashed")
ggplot(BTC1)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[1]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[1]-80, y = max(BTC1$Close)-150, label = "D-day", vjust = -1, color = "black") +
annotate("text", x = TargetDate[1]+MaxIndex1-120, y = max(BTC1$Close)-150, label =
("2013/12/05"), vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MaxIndex1), color = "blue", linetype = "dashed") +
annotate("text", x = TargetDate[1]+MinIndex1+120, y = max(BTC1$Close)-150, label = "2015/01/15", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MinIndex1), color = "blue", linetype = "dashed") +
annotate("text", x = TargetDate[1]+MinIndex1_2+50, y = max(BTC1$Close)-150, label = "Min", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MinIndex1_2), color = "blue", linetype = "dashed")
TargetDate[1]+MinIndex1_2
ggplot(BTC1)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[1]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[1]-80, y = max(BTC1$Close)-150, label = "D-day", vjust = -1, color = "black") +
annotate("text", x = TargetDate[1]+MaxIndex1-120, y = max(BTC1$Close)-150, label =
("2013/12/05"), vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MaxIndex1), color = "blue", linetype = "dashed") +
annotate("text", x = TargetDate[1]+MinIndex1+120, y = max(BTC1$Close)-150, label = "2015/01/15", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MinIndex1), color = "blue", linetype = "dashed") +
annotate("text", x = TargetDate[1]+MinIndex1_2+120, y = max(BTC1$Close)-150, label = "2014/02/22", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MinIndex1_2), color = "blue", linetype = "dashed")
ggplot(BTC2)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[2]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[2]-80, y = max(BTC2$Close)-2000, label = "D-day", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+365), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[2]+365-80, y = max(BTC2$Close)-2000, label = "D+365", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MaxIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MaxIndex2-60, y = max(BTC2$Close)-2000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MinIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MinIndex2-60, y = max(BTC2$Close)-2000, label = "Min", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MinIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MinIndex2-60, y = max(BTC2$Close)-2000, label = "Min", vjust = -1, color = "black")
ggplot(BTC2)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[2]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[2]-80, y = max(BTC2$Close)-2000, label = "D-day", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MaxIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MaxIndex2-60, y = max(BTC2$Close)-2000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MinIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MinIndex2-60, y = max(BTC2$Close)-2000, label = "Min", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MinIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MinIndex2-60, y = max(BTC2$Close)-2000, label = "Min", vjust = -1, color = "black")
ggplot(BTC1)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[1]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[1]-80, y = max(BTC1$Close)-150, label = "D-day", vjust = -1, color = "black") +
annotate("text", x = TargetDate[1]+MaxIndex1-120, y = max(BTC1$Close)-150, label =
("2013/12/05"), vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MaxIndex1), color = "blue", linetype = "dashed") +
annotate("text", x = TargetDate[1]+MinIndex1+120, y = max(BTC1$Close)-150, label = "2015/01/15", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MinIndex1), color = "blue", linetype = "dashed") +
annotate("text", x = TargetDate[1]+MinIndex1_2+120, y = max(BTC1$Close)-150, label = "2014/02/22", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[1]+MinIndex1_2), color = "blue", linetype = "dashed")
ggplot(BTC2)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[2]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[2]-80, y = max(BTC2$Close)-2000, label = "D-day", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MaxIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MaxIndex2-60, y = max(BTC2$Close)-2000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MinIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MinIndex2-60, y = max(BTC2$Close)-2000, label = "Min", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MinIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MinIndex2-60, y = max(BTC2$Close)-2000, label = "Min", vjust = -1, color = "black")
TargetDate[2]+MaxIndex2
ggplot(BTC2)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[2]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[2]-80, y = max(BTC2$Close)-2000, label = "D-day", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MaxIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MaxIndex2-60, y = max(BTC2$Close)-2000, label = "2017/12/17", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MinIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MinIndex2-60, y = max(BTC2$Close)-2000, label = "Min", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MinIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MinIndex2-60, y = max(BTC2$Close)-2000, label = "Min", vjust = -1, color = "black")
ggplot(BTC2)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[2]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[2]-80, y = max(BTC2$Close)-2000, label = "D-day", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MaxIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MaxIndex2-150, y = max(BTC2$Close)-2000, label = "2017/12/17", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MinIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MinIndex2-60, y = max(BTC2$Close)-2000, label = "Min", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MinIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MinIndex2-60, y = max(BTC2$Close)-2000, label = "Min", vjust = -1, color = "black")
ggplot(BTC2)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[2]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[2]-80, y = max(BTC2$Close)-2000, label = "D-day", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MaxIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MaxIndex2-120, y = max(BTC2$Close)-2000, label = "2017/12/17", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MinIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MinIndex2-60, y = max(BTC2$Close)-2000, label = "Min", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MinIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MinIndex2-60, y = max(BTC2$Close)-2000, label = "Min", vjust = -1, color = "black")
TargetDate[2]+MinIndex2
TargetDate[2]+MinIndex2
ggplot(BTC2)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[2]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[2]-80, y = max(BTC2$Close)-2000, label = "D-day", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MaxIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MaxIndex2-120, y = max(BTC2$Close)-2000, label = "2017/12/17", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MinIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MinIndex2-60, y = max(BTC2$Close)-2000, label = "2018/12/16", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MinIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MinIndex2-60, y = max(BTC2$Close)-2000, label = "Min", vjust = -1, color = "black")
ggplot(BTC2)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[2]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[2]-80, y = max(BTC2$Close)-2000, label = "D-day", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MaxIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MaxIndex2-120, y = max(BTC2$Close)-2000, label = "2017/12/17", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MinIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MinIndex2-120, y = max(BTC2$Close)-2000, label = "2018/12/16", vjust = -1, color = "black") +
# 반감기 2020-5-11
TargetIndex <- which(BTC$Date == TargetDate[3])
ggplot(BTC2)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[2]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[2]-80, y = max(BTC2$Close)-2000, label = "D-day", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MaxIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MaxIndex2-120, y = max(BTC2$Close)-2000, label = "2017/12/17", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MinIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MinIndex2-120, y = max(BTC2$Close)-2000, label = "2018/12/16", vjust = -1, color = "black") +
# 반감기 2020-5-11
TargetIndex <- which(BTC$Date == TargetDate[3])
ggplot(BTC2)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[2]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[2]-80, y = max(BTC2$Close)-2000, label = "D-day", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MaxIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MaxIndex2-120, y = max(BTC2$Close)-2000, label = "2017/12/17", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[2]+MinIndex2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[2]+MinIndex2-120, y = max(BTC2$Close)-2000, label = "2018/12/16", vjust = -1, color = "black")
ggplot(BTC3)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[3]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[3]-80, y = max(BTC3$Close)-7000, label = "D-day", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_1+50, y = max(BTC3$Close)-7000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_2-50, y = max(BTC3$Close)-7000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_2+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_1+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")
ggplot(BTC3)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[3]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[3]-60, y = max(BTC3$Close)-7000, label = "D-day", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_1+50, y = max(BTC3$Close)-7000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_2-50, y = max(BTC3$Close)-7000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_2+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_1+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")
ggplot(BTC3)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[3]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[3]-60, y = max(BTC3$Close)-7000, label = "D-day", vjust = -1, color = "black") +
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_1+50, y = max(BTC3$Close)-7000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_2-50, y = max(BTC3$Close)-7000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_2+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_1+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")
ggplot(BTC3)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[3]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[3]-60, y = max(BTC3$Close)-7000, label = "D-day", vjust = -1, color = "black") +
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_1+50, y = max(BTC3$Close)-7000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_2-50, y = max(BTC3$Close)-7000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_2+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_1+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")
TargetDate[3]+MaxIndex3_1
ggplot(BTC3)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[3]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[3]-60, y = max(BTC3$Close)-7000, label = "D-day", vjust = -1, color = "black") +
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_1+50, y = max(BTC3$Close)-7000, label = "2021/11/09", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_2-50, y = max(BTC3$Close)-7000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_2+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_1+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")
ggplot(BTC3)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[3]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[3]-60, y = max(BTC3$Close)-7000, label = "D-day", vjust = -1, color = "black") +
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_1+50, y = max(BTC3$Close)-9000, label = "2021/11/09", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_2-50, y = max(BTC3$Close)-7000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_2+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_1+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")
ggplot(BTC3)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[3]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[3]-60, y = max(BTC3$Close)-7000, label = "D-day", vjust = -1, color = "black") +
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_1+120, y = max(BTC3$Close)-8000, label = "2021/11/09", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_2-50, y = max(BTC3$Close)-7000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_2+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_1+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")
ggplot(BTC3)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[3]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[3]-60, y = max(BTC3$Close)-7000, label = "D-day", vjust = -1, color = "black") +
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_1+80, y = max(BTC3$Close)-8000, label = "2021/11/09", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_2-50, y = max(BTC3$Close)-7000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_2+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_1+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")
ggplot(BTC3)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[3]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[3]-60, y = max(BTC3$Close)-7000, label = "D-day", vjust = -1, color = "black") +
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_1+100, y = max(BTC3$Close)-8000, label = "2021/11/09", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_2-50, y = max(BTC3$Close)-7000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_2+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_1+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")
TargetDate[3]+MinIndex3
TargetDate[3]+MinIndex3_2
ggplot(BTC3)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[3]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[3]-60, y = max(BTC3$Close)-7000, label = "D-day", vjust = -1, color = "black") +
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_1+100, y = max(BTC3$Close)-8000, label = "2021/11/09", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_2-50, y = max(BTC3$Close)-7000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_2+100, y = max(BTC3$Close)-6000, label = "2021-07-21", vjust = -1, color = "black")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_1+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")
ggplot(BTC3)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[3]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[3]-60, y = max(BTC3$Close)-7000, label = "D-day", vjust = -1, color = "black") +
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_1+100, y = max(BTC3$Close)-8000, label = "2021/11/09", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_2-50, y = max(BTC3$Close)-7000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_2+100, y = max(BTC3$Close)-5500, label = "2021-07-21", vjust = -1, color = "black")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_1+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")
ggplot(BTC3)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[3]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[3]-60, y = max(BTC3$Close)-7000, label = "D-day", vjust = -1, color = "black") +
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_1+100, y = max(BTC3$Close)-8000, label = "2021/11/09", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_2-50, y = max(BTC3$Close)-7000, label = "Max", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_2+100, y = max(BTC3$Close)-5000, label = "2021-07-21", vjust = -1, color = "black")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_1+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")
TargetDate[3]+MaxIndex3_2
ggplot(BTC3)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[3]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[3]-60, y = max(BTC3$Close)-7000, label = "D-day", vjust = -1, color = "black") +
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_1+100, y = max(BTC3$Close)-8000, label = "2021/11/09", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_2-100, y = max(BTC3$Close)-7000, label = "2021/04/14", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_2+100, y = max(BTC3$Close)-5000, label = "2021-07-21", vjust = -1, color = "black")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_1+50, y = max(BTC3$Close)-7000, label = "Min", vjust = -1, color = "black")
TargetDate[3]+MinIndex3_1
ggplot(BTC3)+
geom_line(aes(x=Date,y=Close))+
geom_vline(xintercept = as.numeric(TargetDate[3]), color = "red", linetype = "dashed")+
annotate("text", x = TargetDate[3]-60, y = max(BTC3$Close)-7000, label = "D-day", vjust = -1, color = "black") +
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
#geom_vline(xintercept = as.numeric(TargetDate[3]+365), color = "red", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_1+100, y = max(BTC3$Close)-8000, label = "2021/11/09", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MaxIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MaxIndex3_2-100, y = max(BTC3$Close)-7000, label = "2021/04/14", vjust = -1, color = "black") +
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_2), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_2+100, y = max(BTC3$Close)-5000, label = "2021-07-21", vjust = -1, color = "black")+
geom_vline(xintercept = as.numeric(TargetDate[3]+MinIndex3_1), color = "blue", linetype = "dashed")+
annotate("text", x = TargetDate[3]+MinIndex3_1+100, y = max(BTC3$Close)-7000, label = "2022/11/22", vjust = -1, color = "black")
946-365-365
BTC1.1800[A,]
{
library(readxl)
library(ggplot2)
library(dtw)
library(readr)
BTC_data <- read_csv("BTC  data.csv")
colnames(BTC_data)=c('Date', 'Close', 'Open', 'High', 'Low' ,'Volume' ,'Change')
BTC_data$Date=as.Date(BTC_data$Date)
BTC_data$Change <-  as.numeric(sub("%", "", BTC_data$Change))
BTC_data$Volume <-  as.numeric(sub("K", "", BTC_data$Volume))
BTC  <- BTC_data[nrow(BTC_data):1,]
TargetDate <- as.Date(c('2012-11-28','2016-07-09','2020-05-11'))
TargetIndex1 <- which(BTC$Date == TargetDate[1])
dual.BTC1=BTC[(TargetIndex1):(TargetIndex1+(365*2)),]
MaxIndex1.1 <- which(dual.BTC1$Close==max(dual.BTC1$Close))
MaxIndex1.2 <- which(dual.BTC1$Close==max(dual.BTC1$Close[(MaxIndex1.1+30):nrow(dual.BTC1)])) # 2차 최고점
MinIndex1.1 <- which(dual.BTC1$Close==min(dual.BTC1$Close[MaxIndex1.1:MaxIndex1.2]))
MinIndex1.2 <- which(dual.BTC1$Close == min(dual.BTC1$Close[MaxIndex1.2:nrow(dual.BTC1)]))
MaxIndex1.3 <- which(dual.BTC1$Close == max(dual.BTC1$Close[MinIndex1.2:(MinIndex1.2+100)]))
TargetIndex2 <- which(BTC$Date == TargetDate[2])
dual.BTC2=BTC[(TargetIndex2):(TargetIndex2+(365*2)),]
MaxIndex2.1 <- which(dual.BTC2$Close==max(dual.BTC2$Close))
MaxIndex2.2 <- which(dual.BTC2$Close==max(dual.BTC2$Close[(MaxIndex2.1+10):nrow(dual.BTC2)])) # 2차 최고점
MinIndex2.1 <- which(dual.BTC2$Close==min(dual.BTC2$Close[MaxIndex2.1:MaxIndex2.2]))
MinIndex2.2 <- which(dual.BTC2$Close == min(dual.BTC2$Close[MaxIndex2.2:(MaxIndex2.2+30)]))
MaxIndex2.3 <- which(dual.BTC2$Close == max(dual.BTC2$Close[MinIndex2.2:(MinIndex2.2+20)]))
TargetIndex3 <- which(BTC$Date == TargetDate[3])
dual.BTC3=BTC[(TargetIndex3):(TargetIndex3+(365*2.5)),]
MaxIndex3.1 <- which(dual.BTC3$Close==max(dual.BTC3$Close[1:365]))
MaxIndex3.2 <- which(dual.BTC3$Close==max(dual.BTC3$Close[(MaxIndex3.1+10):nrow(dual.BTC3)])) # 3차 최고점
MinIndex3.1 <- which(dual.BTC3$Close==min(dual.BTC3$Close[MaxIndex3.1:MaxIndex3.2]))
MinIndex3.2 <- which(dual.BTC3$Close == min(dual.BTC3$Close[MaxIndex3.2:(nrow(dual.BTC3)-120)]))
MaxIndex3.3 <- which(dual.BTC3$Close == max(dual.BTC3$Close[MinIndex3.2:(MinIndex3.2+80)]))
compare.BTC1.df <-  read_excel("BTC1 test dataset.xlsx")
compare.BTC2.df <-  read_excel("BTC2 test dataset.xlsx")
compare.BTC3.df <-  read_excel("BTC3 test dataset.xlsx")
}
head(compare.BTC1.df)
#겹치는 부분이 있는 곳의 거리 확인
hist(compare.BTC1.df$rate.list,main=)
hist(compare.BTC1.df$include.list)
plot(compare.BTC1.df$size.list,1/compare.BTC1.df$norm.dist.list,type='h')
plot(compare.BTC1.df$start.list,1/compare.BTC1.df$norm.dist.list,type='h')
BTC1.none0include <- compare.BTC1.df[compare.BTC1.df$include.list != 0,]
plot(compare.BTC1.df$include.list,compare.BTC1.df$norm.dist.list)
# include값이 0이외의 값에선 다양한 값이 관측되지 않는다.
plot(BTC1.none0include$include.list,BTC1.none0include$norm.dist.list)
BTC1.0rate <- compare.BTC1.df[compare.BTC1.df$rate.list == 0,]
boxplot(BTC1.0rate$norm.dist.list)
(BTC1.0rate[order(BTC1.0rate$norm.dist.list),])
BTC1.0rate[order(BTC1.0rate$norm.dist.list),][10000,]
hist(BTC1.0rate$norm.dist.list)
hist(compare.BTC1.df$norm.dist.list)
plot(compare.BTC1.df$size.list,1/compare.BTC1.df$norm.dist.list,type='h',xlab='Size',ylab='Time Smilarity')
plot(compare.BTC1.df$start.list,1/compare.BTC1.df$norm.dist.list,type='h',xlab='Start Index',ylab='Time Smilarity')
range(compare.BTC1.df$start.list[1/compare.BTC1.df$norm.dist.list>8*mean(1/compare.BTC1.df$norm.dist.list)])
plot(BTC1.0rate$size.list,1/BTC1.0rate$norm.dist.list,type='h',xlab='Size',ylab='Time Smilarity')
plot(BTC1.0rate$start.list,1/BTC1.0rate$norm.dist.list,type='h',xlab='Start Index',ylab='Time Smilarity')
BTC1.0rate$size.list
which(BTC1.0rate$norm.dist.list == min(BTC1.0rate$norm.dist.list))
#최고점 인댁스 22702
BTC1.0rate[69423,] #size:898, start:1862
#size:1128  start:1632
BTC1.1800 <- BTC1.0rate[(BTC1.0rate$start.list<1922) & (BTC1.0rate$start.list>1802),]
plot(BTC1.1800$size.list,1/BTC1.1800$norm.dist.list, type='h',,xlab='Size',ylab='Time Similarity')
A <- which(BTC1.1800$norm.dist.list == min(BTC1.1800$norm.dist.list))
BTC1.1800[A,]
1/0.00738
head(compare.BTC3.df)
#겹치는 부분이 있는 곳의 거리 확인
hist(compare.BTC3.df$rate.list,main=)
hist(compare.BTC3.df$include.list)
plot(compare.BTC3.df$size.list,1/compare.BTC3.df$norm.dist.list,type='h')
plot(compare.BTC3.df$start.list,1/compare.BTC3.df$norm.dist.list,type='h')
BTC3.none0include <- compare.BTC3.df[compare.BTC3.df$include.list != 0,]
plot(compare.BTC3.df$include.list,compare.BTC3.df$norm.dist.list)
# include값이 0이외의 값에선 다양한 값이 관측되지 않는다.
plot(BTC3.none0include$include.list,BTC3.none0include$norm.dist.list)
BTC3.0rate <- compare.BTC3.df[compare.BTC3.df$rate.list == 0,]
boxplot(BTC3.0rate$norm.dist.list)
(BTC3.0rate[order(BTC3.0rate$norm.dist.list),])
BTC3.0rate[order(BTC1.0rate$norm.dist.list),][10000,]
plot(BTC3.0rate$size.list,1/BTC3.0rate$norm.dist.list,type='h',xlab='Size',ylab='Time Smilarity')
#start에 때른 Time
plot(BTC3.0rate$start.list,1/BTC3.0rate$norm.dist.list,type='h',xlab='Start Index',ylab='Time Similarity')
which(BTC3.0rate$norm.dist.list == min(BTC3.0rate$norm.dist.list))
#최고점 인댁스 12077
BTC3.0rate[12077,] #size:550, start:2495
BTC3.1800 <- BTC3.0rate[(BTC3.0rate$start.list<2555) & (BTC3.0rate$start.list>2435),]
#size에 따른 Time
plot(BTC3.1800$size.list,1/BTC3.1800$norm.dist.list, type='h',,xlab='Size',ylab='Time Similarity')
A <- which(BTC3.1800$norm.dist.list == min(BTC3.1800$norm.dist.list))
BTC3.1800[A,]
min.ndist3.1 <- BTC[1862:(1862+946),]
plot(min.ndist1.1$Close,type='l',ylab='Close')
plot(dual.BTC2$Close[1:MinIndex2.2],type='l',ylab='Close')
1/ 0.0254
